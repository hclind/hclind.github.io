var rn=Object.defineProperty;var un=(t,e,n)=>e in t?rn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Z=(t,e,n)=>(un(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function G(){}const Kt=t=>t;function an(t,e){for(const n in e)t[n]=e[n];return t}function Xt(t){return t()}function vt(){return Object.create(null)}function ee(t){t.forEach(Xt)}function lt(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function cn(t){return Object.keys(t).length===0}function fn(t,e,n,i){if(t){const s=Ut(t,e,n,i);return t[0](s)}}function Ut(t,e,n,i){return t[1]&&i?an(n.ctx.slice(),t[1](i(e))):n.ctx}function dn(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const l=[],o=Math.max(e.dirty.length,s.length);for(let u=0;u<o;u+=1)l[u]=e.dirty[u]|s[u];return l}return e.dirty|s}return e.dirty}function hn(t,e,n,i,s,l){if(s){const o=Ut(e,n,i,l);t.p(o,s)}}function pn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}const Ht=typeof window<"u";let mn=Ht?()=>window.performance.now():()=>Date.now(),ot=Ht?t=>requestAnimationFrame(t):G;const me=new Set;function Yt(t){me.forEach(e=>{e.c(t)||(me.delete(e),e.f())}),me.size!==0&&ot(Yt)}function gn(t){let e;return me.size===0&&ot(Yt),{promise:new Promise(n=>{me.add(e={c:t,f:n})}),abort(){me.delete(e)}}}function r(t,e){t.appendChild(e)}function $t(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _n(t){const e=h("style");return e.textContent="/* empty */",vn($t(t),e),e.sheet}function vn(t,e){return r(t.head||t,e),e.sheet}function A(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function Fe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function W(t){return document.createTextNode(t)}function k(){return W(" ")}function Gt(){return W("")}function q(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function yn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function se(t){return t===""?null:+t}function bn(t){return Array.from(t.childNodes)}function $(t,e){e=""+e,t.data!==e&&(t.data=e)}function j(t,e){t.value=e??""}function w(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Te(t,e,n){for(let i=0;i<t.options.length;i+=1){const s=t.options[i];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function yt(t){const e=t.querySelector(":checked");return e&&e.__value}function Qt(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}const Ne=new Map;let Ae=0;function wn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function kn(t,e){const n={stylesheet:_n(e),rules:{}};return Ne.set(t,n),n}function Cn(t,e,n,i,s,l,o,u=0){const f=16.666/i;let c=`{
`;for(let O=0;O<=1;O+=f){const M=e+(n-e)*l(O);c+=O*100+`%{${o(M,1-M)}}
`}const _=c+`100% {${o(n,1-n)}}
}`,g=`__svelte_${wn(_)}_${u}`,d=$t(t),{stylesheet:a,rules:p}=Ne.get(d)||kn(d,t);p[g]||(p[g]=!0,a.insertRule(`@keyframes ${g} ${_}`,a.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${g} ${i}ms linear ${s}ms 1 both`,Ae+=1,g}function bt(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),Ae-=s,Ae||Dn())}function Dn(){ot(()=>{Ae||(Ne.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&B(e)}),Ne.clear())})}let Pe;function Oe(t){Pe=t}function Zt(){if(!Pe)throw new Error("Function called outside component initialization");return Pe}function en(t){Zt().$$.on_mount.push(t)}function rt(){const t=Zt();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const l=Qt(e,n,{cancelable:i});return s.slice().forEach(o=>{o.call(t,l)}),!l.defaultPrevented}return!0}}const pe=[],_e=[];let ge=[];const Qe=[],In=Promise.resolve();let Ze=!1;function Sn(){Ze||(Ze=!0,In.then(tn))}function le(t){ge.push(t)}function wt(t){Qe.push(t)}const He=new Set;let he=0;function tn(){if(he!==0)return;const t=Pe;do{try{for(;he<pe.length;){const e=pe[he];he++,Oe(e),En(e.$$)}}catch(e){throw pe.length=0,he=0,e}for(Oe(null),pe.length=0,he=0;_e.length;)_e.pop()();for(let e=0;e<ge.length;e+=1){const n=ge[e];He.has(n)||(He.add(n),n())}ge.length=0}while(pe.length);for(;Qe.length;)Qe.pop()();Ze=!1,He.clear(),Oe(t)}function En(t){if(t.fragment!==null){t.update(),ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(le)}}function On(t){const e=[],n=[];ge.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),ge=e}let Ee;function Pn(){return Ee||(Ee=Promise.resolve(),Ee.then(()=>{Ee=null})),Ee}function kt(t,e,n){t.dispatchEvent(Qt(`${e?"intro":"outro"}${n}`))}const Le=new Set;let ae;function je(){ae={r:0,c:[],p:ae}}function ze(){ae.r||ee(ae.c),ae=ae.p}function Y(t,e){t&&t.i&&(Le.delete(t),t.i(e))}function Q(t,e,n,i){if(t&&t.o){if(Le.has(t))return;Le.add(t),ae.c.push(()=>{Le.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const qn={duration:0};function nn(t,e,n){const i={direction:"in"};let s=e(t,n,i),l=!1,o,u,f=0;function c(){o&&bt(t,o)}function _(){const{delay:d=0,duration:a=300,easing:p=Kt,tick:b=G,css:O}=s||qn;O&&(o=Cn(t,0,1,a,d,p,O,f++)),b(0,1);const M=mn()+d,z=M+a;u&&u.abort(),l=!0,le(()=>kt(t,!0,"start")),u=gn(I=>{if(l){if(I>=z)return b(1,0),kt(t,!0,"end"),c(),l=!1;if(I>=M){const x=p((I-M)/a);b(x,1-x)}}return l})}let g=!1;return{start(){g||(g=!0,bt(t),lt(s)?(s=s(i),Pn().then(_)):_())},invalidate(){g=!1},end(){l&&(c(),l=!1)}}}function oe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ct(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ut(t){t&&t.c()}function We(t,e,n){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),le(()=>{const l=t.$$.on_mount.map(Xt).filter(lt);t.$$.on_destroy?t.$$.on_destroy.push(...l):ee(l),t.$$.on_mount=[]}),s.forEach(le)}function Re(t,e){const n=t.$$;n.fragment!==null&&(On(n.after_update),ee(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Mn(t,e){t.$$.dirty[0]===-1&&(pe.push(t),Sn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Je(t,e,n,i,s,l,o=null,u=[-1]){const f=Pe;Oe(t);const c=t.$$={fragment:null,ctx:[],props:l,update:G,not_equal:s,bound:vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:vt(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};o&&o(c.root);let _=!1;if(c.ctx=n?n(t,e.props||{},(g,d,...a)=>{const p=a.length?a[0]:d;return c.ctx&&s(c.ctx[g],c.ctx[g]=p)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](p),_&&Mn(t,g)),d}):[],c.update(),_=!0,ee(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const g=bn(e.target);c.fragment&&c.fragment.l(g),g.forEach(B)}else c.fragment&&c.fragment.c();e.intro&&Y(t.$$.fragment),We(t,e.target,e.anchor),tn()}Oe(f)}class xe{constructor(){Z(this,"$$");Z(this,"$$set")}$destroy(){Re(this,1),this.$destroy=G}$on(e,n){if(!lt(n))return G;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!cn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Bn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Bn);const et=(t,e)=>e.some(n=>t instanceof n);let Dt,It;function Tn(){return Dt||(Dt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ln(){return It||(It=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tt=new WeakMap,Ye=new WeakMap,Ve=new WeakMap;function Nn(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",l),t.removeEventListener("error",o)},l=()=>{n(ce(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",l),t.addEventListener("error",o)});return Ve.set(e,t),e}function An(t){if(tt.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",o),t.removeEventListener("abort",o)},l=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",l),t.addEventListener("error",o),t.addEventListener("abort",o)});tt.set(t,e)}let nt={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tt.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ce(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sn(t){nt=t(nt)}function Fn(t){return Ln().includes(t)?function(...e){return t.apply(it(this),e),ce(this.request)}:function(...e){return ce(t.apply(it(this),e))}}function jn(t){return typeof t=="function"?Fn(t):(t instanceof IDBTransaction&&An(t),et(t,Tn())?new Proxy(t,nt):t)}function ce(t){if(t instanceof IDBRequest)return Nn(t);if(Ye.has(t))return Ye.get(t);const e=jn(t);return e!==t&&(Ye.set(t,e),Ve.set(e,t)),e}const it=t=>Ve.get(t);function zn(t,e,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const o=indexedDB.open(t,e),u=ce(o);return i&&o.addEventListener("upgradeneeded",f=>{i(ce(o.result),f.oldVersion,f.newVersion,ce(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{l&&f.addEventListener("close",()=>l()),s&&f.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const Wn=["get","getKey","getAll","getAllKeys","count"],Rn=["put","add","delete","clear"],$e=new Map;function St(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($e.get(e))return $e.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Rn.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Wn.includes(n)))return;const l=async function(o,...u){const f=this.transaction(o,s?"readwrite":"readonly");let c=f.store;return i&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),s&&f.done]))[0]};return $e.set(e,l),l}sn(t=>({...t,get:(e,n,i)=>St(e,n)||t.get(e,n,i),has:(e,n)=>!!St(e,n)||t.has(e,n)}));const Jn=["continue","continuePrimaryKey","advance"],Et={},st=new WeakMap,ln=new WeakMap,xn={get(t,e){if(!Jn.includes(e))return t[e];let n=Et[e];return n||(n=Et[e]=function(...i){st.set(this,ln.get(this)[e](...i))}),n}};async function*Vn(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,xn);for(ln.set(n,e),Ve.set(n,it(e));e;)yield n,e=await(st.get(n)||e.continue()),st.delete(n)}function Ot(t,e){return e===Symbol.asyncIterator&&et(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&et(t,[IDBIndex,IDBObjectStore])}sn(t=>({...t,get(e,n,i){return Ot(e,n)?Vn:t.get(e,n,i)},has(e,n){return Ot(e,n)||t.has(e,n)}}));let at={id:0,type:"simple",plog:"",periodic:"none",name:"test",desc:"test",value:0,target:10,variation:1,uint:"times",varlist:"1,2,3",ts:0};function ie(){return Math.round(Date.now()/1e3)}function Kn(t=new Date){let e=new Date(t.getFullYear(),0,1).getTime(),n=t.getTime();return"D"+Math.ceil((n-e)/864e5)}function Xn(t=new Date){let e=new Date(t.getFullYear(),0,1),n=Math.ceil(((t.getTime()-e.getTime())/864e5+e.getDay()+1)/7).toString();return`W${"0".repeat(2-n.length)}${n}`}function Un(t=new Date){let e=(t.getMonth()+1).toString();return`M${"0".repeat(2-e.length)}${e}`}const Ge={none:()=>"none",daily:Kn,weekly:Xn,monthly:Un};class Hn{constructor(e=[],n=[]){Z(this,"items",[]);Z(this,"log",[]);Z(this,"lastID",0);Z(this,"db",null);Z(this,"defaultOnTimer",e=>{e.timerInfo&&(e.timerInfo.countdownTimer&&clearInterval(e.timerInfo.countdownTimer),e.timerInfo.timer&&clearTimeout(e.timerInfo.countdownTimer),e.ts=ie(),e.value+=e.ts-e.timerInfo.timestamp,e.timerInfo=null,e.active=!1)});Z(this,"afterDataChange",(e=0)=>{console.log("dataChange!",e)});this.items=e,this.log=n,this.lastID=this.items.reduce((i,s)=>s.id>i?s.id:i,0)}checkReset(){this.items.forEach(e=>{var i;let n=Ge[e.periodic]();e.plog!==n&&(e.plog=n,e.value=0,(i=this.db)==null||i.put("item",e))}),this.afterDataChange()}async openDataBase(){this.db=await zn("superCount",1,{upgrade(e){e.createObjectStore("item",{keyPath:"id"}),e.createObjectStore("log",{keyPath:"ts"}).createIndex("byID","cid")}}),this.db.onabort=e=>{console.log("db abort",e)},this.db.onclose=e=>{console.log("db close",e)},this.db.onerror=e=>{console.log("db error",e)}}async getLastlog(e=1,n=10){if(!this.db)return[];let i=ie(),s=await this.db.transaction("log").store.openCursor(IDBKeyRange.bound(i-60*60*24,i,!0,!0),"prev"),l=[];for(;s&&l.length<n;)s.value.cid===e&&l.push(s.value),s=await s.continue();return l}async loadfromDB(){if(!this.db)return console.warn("db not open!");this.items=await this.db.getAll("item"),this.log=await this.db.getAll("log"),this.checkReset(),this.lastID=this.items.reduce((e,n)=>n.id>e?n.id:e,0),this.lastID++,this.afterDataChange()}async savetoDB(){if(!this.db)return console.warn("db not open!");this.items.forEach(e=>{var n;(n=this.db)==null||n.put("item",e)})}update(e){e.ts=ie(),this.db&&(this.db.put("item",e),this.afterDataChange())}newCount(e){var i,s;e.type=e.type??"simple";let n=at;switch(e.type){case"simple":case"record":n={id:this.lastID++,type:e.type,periodic:e.periodic??"none",plog:Ge[e.periodic??"none"](),name:e.name??`name${this.lastID}`,desc:e.desc??"",value:e.value??0,target:e.target??e.type==="simple"?0:10,variation:e.variation??1,varlist:"",uint:e.uint??"time",ts:0},this.items.push(n),(i=this.db)==null||i.put("item",n);break;case"timer":n={id:this.lastID++,type:e.type,periodic:e.periodic??"none",plog:Ge[e.periodic??"none"](),name:e.name??`name${this.lastID}`,desc:e.desc??"",value:e.value??0,target:e.target??10,variation:e.variation??1,uint:e.uint??"time",active:!1,countdown:!1,varlist:"",timerInfo:null,ts:0},this.items.push(n),(s=this.db)==null||s.put("item",n);break}return n}async deleteCount(e){let n=this.id2target(e);!n||!this.db||(await this.db.delete("item",n.id),this.items=await this.db.getAll("item"),this.afterDataChange())}timer(e){var i,s;e.active=!1,this.defaultOnTimer(e);let n={ts:ie(),variation:e.variation,cid:e.id};(i=this.db)==null||i.put("item",e),this.log.push(n),(s=this.db)==null||s.put("log",n),this.afterDataChange()}sec2string(e){let n=(e%60).toFixed(0),i=((e%3600-e%60)/60).toFixed(0),s=((e-e%3600)/3600).toFixed(0);return e<3600?`${"0".repeat(2-i.length)}${i}:${"0".repeat(2-n.length)}${n}`:`${s}:${"0".repeat(2-i.length)}${i}:${"0".repeat(2-n.length)}${n}`}countDown(e){var i;if(!e.timerInfo)return;e.ts=ie();let n=e.ts-(((i=e.timerInfo)==null?void 0:i.countdownstamp)||0);e.timerInfo.info=this.sec2string(Math.abs(n)),this.afterDataChange()}count(e,n=0){var o,u,f,c;let i=this.id2target(e);if(!i)return;let s=n||i.variation,l;switch(i.type){case"simple":i.value+=s,i.ts=ie(),l={ts:i.ts,variation:s,cid:i.id},this.log.push(l),(o=this.db)==null||o.put("item",i),(u=this.db)==null||u.put("log",l);break;case"record":i.value=s,i.ts=ie(),l={ts:i.ts,variation:s,cid:i.id},this.log.push(l),(f=this.db)==null||f.put("item",i),(c=this.db)==null||c.put("log",l);break;case"timer":i.active=!0,i.ts=ie(),s>0&&i.active?i.timerInfo={timestamp:i.ts,timer:setTimeout(this.timer.bind(this),s*1e3,i),countdownstamp:i.countdown?i.ts+s:i.ts,countdownTimer:setInterval(this.countDown.bind(this),1e3,i),info:""}:this.defaultOnTimer(i);break}this.afterDataChange()}id2target(e){return typeof e=="number"?this.items.reduce((n,i)=>i.id===e?i:n,null):null}list2str(){return JSON.stringify(this.items,(e,n)=>typeof n=="function"?null:n)}loadFromlocalStorage(){let e=localStorage.getItem("cs"),n=localStorage.getItem("cslog");e&&(this.items=JSON.parse(e)),this.checkReset(),n&&(this.log=JSON.parse(n))}savetoLocalStorage(){localStorage.setItem("cslog",JSON.stringify(this.log))}loadFromFile(){let e=document.createElement("input"),n=!1;e.type="file",e.accept=".json",e.style.display="none",e.onchange=i=>{let s=new FileReader;s.onload=l=>{if(typeof s.result=="string"){let o=JSON.parse(s.result);this.items=o.items,this.checkReset(),this.log=o.log}},e.files&&s.readAsText(e.files[0]),document.body.removeChild(e),n=!0},document.body.appendChild(e),e.click(),setTimeout(()=>{n||document.body.removeChild(e)},1e4)}saveToFile(){let e=prompt("please input the file name:","superCount");if(e){var n=new Blob([JSON.stringify({items:this.items,log:this.log})],{type:"txt"}),i=document.createElement("a");i.download=e+".json",i.href=window.URL.createObjectURL(n),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}function Pt(t,e,n){const i=t.slice();return i[21]=e[n],i[23]=n,i}function qt(t){let e,n,i;function s(...l){return t[16](t[23],...l)}return{c(){e=h("div"),w(e,"height","16px"),w(e,"width","16px"),w(e,"border-radius","50%"),w(e,"background",t[23]==t[6]?"#666":"#ddd"),w(e,"margin","8px"),w(e,"margin-top","2px")},m(l,o){A(l,e,o),n||(i=q(e,"click",s),n=!0)},p(l,o){t=l,o&64&&w(e,"background",t[23]==t[6]?"#666":"#ddd")},d(l){l&&B(e),n=!1,i()}}}function Yn(t){let e,n,i,s,l,o,u,f;const c=t[13].default,_=fn(c,t,t[12],null);let g=oe(t[4]),d=[];for(let a=0;a<g.length;a+=1)d[a]=qt(Pt(t,g,a));return{c(){e=h("div"),n=h("div"),_&&_.c(),i=k(),s=h("div");for(let a=0;a<d.length;a+=1)d[a].c();l=k(),m(n,"class","pages svelte-xa77mt"),w(n,"width",t[0]*t[1]+"px"),w(n,"left",t[7].x+"px"),w(n,"transition-duration",t[5]+"ms"),w(n,"cursor",t[8]),m(e,"class","contain svelte-xa77mt"),w(e,"height",t[2]-26+"px"),w(e,"width",t[1]+"px"),w(s,"display","flex"),w(s,"justify-content","center"),w(s,"background","none"),w(s,"margin","0")},m(a,p){A(a,e,p),r(e,n),_&&_.m(n,null),A(a,i,p),A(a,s,p);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(s,null);A(a,l,p),o=!0,u||(f=[q(n,"mousedown",t[9]),q(n,"mousemove",yn(t[11])),q(n,"touchstart",t[14]),q(n,"touchmove",t[15]),q(document.body,"mouseup",t[10]),q(document.body,"mousemove",t[11]),q(document.body,"touchend",t[17]),q(document.body,"touchmove",t[18])],u=!0)},p(a,[p]){if(_&&_.p&&(!o||p&4096)&&hn(_,c,a,a[12],o?dn(c,a[12],p,null):pn(a[12]),null),(!o||p&3)&&w(n,"width",a[0]*a[1]+"px"),(!o||p&128)&&w(n,"left",a[7].x+"px"),(!o||p&32)&&w(n,"transition-duration",a[5]+"ms"),(!o||p&256)&&w(n,"cursor",a[8]),(!o||p&4)&&w(e,"height",a[2]-26+"px"),(!o||p&2)&&w(e,"width",a[1]+"px"),p&88){g=oe(a[4]);let b;for(b=0;b<g.length;b+=1){const O=Pt(a,g,b);d[b]?d[b].p(O,p):(d[b]=qt(O),d[b].c(),d[b].m(s,null))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}},i(a){o||(Y(_,a),o=!0)},o(a){Q(_,a),o=!1},d(a){a&&(B(e),B(i),B(s),B(l)),_&&_.d(a),Fe(d,a),u=!1,ee(f)}}}function $n(t,e,n){let{$$slots:i={},$$scope:s}=e;const l=rt();let{pages:o=10}=e,{pageWide:u=100}=e,{height:f=200}=e,c=0,_=0,g={x:0,y:0,md:!1,minx:-100,ox:0},d={x:0,y:0,dir:1},a="grab";function p(v,S=500){v<0||v>=o||(l("onChange",v),n(5,c=S),n(7,d.x=-v*u,d),n(6,_=v),setTimeout(()=>{n(5,c=0)},1e3),n(8,a="grab"))}function b(v){g.x=v.screenX,g.ox=v.screenX,g.md=!0,n(8,a="grabbing")}function O(v){if(!g.md)return;g.md=!1;let S={idx:0,d:1e3};for(let U=0;U<o;U++){let H=Math.abs(d.x+U*u+d.dir*u/3);S.d>H&&(S.d=H,S.idx=U)}p(S.idx)}function M(v){g.md&&(n(7,d.dir=v.screenX>g.ox?1:-1,d),n(7,d.x+=v.screenX-g.x,d),d.x>0&&n(7,d.x=0,d),d.x<g.minx&&n(7,d.x=g.minx,d),g.x=v.screenX)}g.minx=-u*(o-1);let{pgs:z=Array(o).fill(0)}=e;setTimeout(p,1e3,0);const I=v=>{v.touches.length==1&&b(v.touches[0])},x=v=>{v.touches.length==1&&M(v.touches[0])},y=(v,S)=>{p(v)},T=v=>{O(v.touches[0])},F=v=>{M(v.touches[0])};return t.$$set=v=>{"pages"in v&&n(0,o=v.pages),"pageWide"in v&&n(1,u=v.pageWide),"height"in v&&n(2,f=v.height),"pgs"in v&&n(4,z=v.pgs),"$$scope"in v&&n(12,s=v.$$scope)},[o,u,f,p,z,c,_,d,a,b,O,M,s,i,I,x,y,T,F]}class Gn extends xe{constructor(e){super(),Je(this,e,$n,Yn,fe,{pages:0,pageWide:1,height:2,toPage:3,pgs:4})}get toPage(){return this.$$.ctx[3]}}function on(t,{delay:e=0,duration:n=400,easing:i=Kt}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:l=>`opacity: ${l*s}`}}function Mt(t,e,n){const i=t.slice();return i[18]=e[n],i[20]=n,i}function Bt(t,e,n){const i=t.slice();return i[21]=e[n],i}function Tt(t){let e,n=t[2].value+"",i,s;return{c(){e=h("span"),i=W(n),m(e,"class","svelte-1i69zqq")},m(l,o){A(l,e,o),r(e,i)},p(l,o){o&4&&n!==(n=l[2].value+"")&&$(i,n)},i(l){l&&(s||le(()=>{s=nn(e,on,{duration:800}),s.start()}))},o:G,d(l){l&&B(e)}}}function Qn(t){let e=t[18].value,n,i,s=t[18].uint+"",l,o=Lt(t);return{c(){o.c(),n=k(),i=h("span"),l=W(s),m(i,"class","svelte-1i69zqq")},m(u,f){o.m(u,f),A(u,n,f),A(u,i,f),r(i,l)},p(u,f){f&2&&fe(e,e=u[18].value)?(je(),Q(o,1,1,G),ze(),o=Lt(u),o.c(),Y(o,1),o.m(n.parentNode,n)):o.p(u,f),f&2&&s!==(s=u[18].uint+"")&&$(l,s)},d(u){u&&(B(n),B(i)),o.d(u)}}}function Zn(t){var s;let e,n=(((s=t[18].timerInfo)==null?void 0:s.info)||"00:00")+"",i;return{c(){e=h("span"),i=W(n),m(e,"class","svelte-1i69zqq")},m(l,o){A(l,e,o),r(e,i)},p(l,o){var u;o&2&&n!==(n=(((u=l[18].timerInfo)==null?void 0:u.info)||"00:00")+"")&&$(i,n)},d(l){l&&B(e)}}}function Lt(t){let e,n=t[18].value+"",i,s;return{c(){e=h("span"),i=W(n),m(e,"class","svelte-1i69zqq")},m(l,o){A(l,e,o),r(e,i)},p(l,o){o&2&&n!==(n=l[18].value+"")&&$(i,n)},i(l){l&&(s||le(()=>{s=nn(e,on,{duration:800}),s.start()}))},o:G,d(l){l&&B(e)}}}function Nt(t){let e,n=oe(t[18].varlist.split(",")),i=[];for(let s=0;s<n.length;s+=1)i[s]=At(Bt(t,n,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Gt()},m(s,l){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(s,l);A(s,e,l)},p(s,l){if(l&130){n=oe(s[18].varlist.split(","));let o;for(o=0;o<n.length;o+=1){const u=Bt(s,n,o);i[o]?i[o].p(u,l):(i[o]=At(u),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(s){s&&B(e),Fe(i,s)}}}function At(t){let e,n=t[21]+"",i,s,l;function o(...u){return t[16](t[18],t[21],...u)}return{c(){e=h("div"),i=W(n),m(e,"class","svelte-1i69zqq")},m(u,f){A(u,e,f),r(e,i),s||(l=q(e,"click",o),s=!0)},p(u,f){t=u,f&2&&n!==(n=t[21]+"")&&$(i,n)},d(u){u&&B(e),s=!1,l()}}}function Ft(t){let e,n,i=zt(t[18].type)+"",s,l=t[18].name+"",o,u,f,c=jt(t[18].desc)+"",_,g,d,a,p,b,O,M,z,I,x,y;function T(...P){return t[13](t[18],...P)}function F(P,L){return P[18].type==="timer"&&P[18].active?Zn:Qn}let v=F(t),S=v(t);function U(...P){return t[14](t[18],...P)}function H(...P){return t[15](t[18],...P)}let E=t[18].varlist&&Nt(t);return{c(){e=h("div"),n=h("div"),s=W(i),o=W(l),u=k(),f=h("span"),_=W(c),g=k(),d=h("div"),a=h("button"),a.textContent="-",p=k(),b=h("div"),S.c(),O=k(),M=h("button"),M.textContent="+",z=k(),I=h("div"),E&&E.c(),m(f,"class","svelte-1i69zqq"),m(n,"class","title svelte-1i69zqq"),m(a,"class","svelte-1i69zqq"),w(b,"display","flex"),w(b,"flex-wrap","wrap"),m(M,"class","svelte-1i69zqq"),m(d,"class","item svelte-1i69zqq"),m(I,"class","varlist svelte-1i69zqq")},m(P,L){A(P,e,L),r(e,n),r(n,s),r(n,o),r(n,u),r(n,f),r(f,_),r(e,g),r(e,d),r(d,a),r(d,p),r(d,b),S.m(b,null),r(d,O),r(d,M),r(e,z),r(e,I),E&&E.m(I,null),x||(y=[q(a,"click",T),q(b,"click",U),q(M,"click",H)],x=!0)},p(P,L){t=P,L&2&&i!==(i=zt(t[18].type)+"")&&$(s,i),L&2&&l!==(l=t[18].name+"")&&$(o,l),L&2&&c!==(c=jt(t[18].desc)+"")&&$(_,c),v===(v=F(t))&&S?S.p(t,L):(S.d(1),S=v(t),S&&(S.c(),S.m(b,null))),t[18].varlist?E?E.p(t,L):(E=Nt(t),E.c(),E.m(I,null)):E&&(E.d(1),E=null)},d(P){P&&B(e),S.d(),E&&E.d(),x=!1,ee(y)}}}function ei(t){let e,n,i,s=t[2].name+"",l,o,u,f,c,_,g=t[2].value,d,a,p=t[2].uint+"",b,O,M,z,I,x,y,T,F,v,S,U,H,E=Tt(t),P=oe(t[1]),L=[];for(let C=0;C<P.length;C+=1)L[C]=Ft(Mt(t,P,C));return{c(){e=h("dialog"),n=h("p"),i=W("New value of "),l=W(s),o=k(),u=h("div"),f=h("button"),f.textContent="-",c=k(),_=h("div"),E.c(),d=k(),a=h("span"),b=W(p),O=k(),M=h("button"),M.textContent="+",z=k(),I=h("input"),x=k(),y=h("button"),y.textContent="ok",T=k(),F=h("div");for(let C=0;C<L.length;C+=1)L[C].c();v=k(),S=h("button"),S.textContent="+",m(f,"class","svelte-1i69zqq"),m(a,"class","svelte-1i69zqq"),w(_,"display","flex"),w(_,"flex-wrap","wrap"),m(M,"class","svelte-1i69zqq"),m(u,"class","item svelte-1i69zqq"),m(I,"type","number"),m(e,"class","svelte-1i69zqq"),m(S,"class","cbtn"),m(F,"class","container svelte-1i69zqq"),w(F,"--item-width",t[4]+"px")},m(C,R){A(C,e,R),r(e,n),r(n,i),r(n,l),r(e,o),r(e,u),r(u,f),r(u,c),r(u,_),E.m(_,null),r(_,d),r(_,a),r(a,b),r(u,O),r(u,M),r(e,z),r(e,I),j(I,t[2].value),r(e,x),r(e,y),t[12](e),A(C,T,R),A(C,F,R);for(let N=0;N<L.length;N+=1)L[N]&&L[N].m(F,null);r(F,v),r(F,S),U||(H=[q(f,"click",t[8]),q(M,"click",t[9]),q(I,"input",t[10]),q(y,"click",t[11]),q(S,"click",t[17])],U=!0)},p(C,[R]){if(R&4&&s!==(s=C[2].name+"")&&$(l,s),R&4&&fe(g,g=C[2].value)?(je(),Q(E,1,1,G),ze(),E=Tt(C),E.c(),Y(E,1),E.m(_,d)):E.p(C,R),R&4&&p!==(p=C[2].uint+"")&&$(b,p),R&4&&se(I.value)!==C[2].value&&j(I,C[2].value),R&162){P=oe(C[1]);let N;for(N=0;N<P.length;N+=1){const ve=Mt(C,P,N);L[N]?L[N].p(ve,R):(L[N]=Ft(ve),L[N].c(),L[N].m(F,v))}for(;N<L.length;N+=1)L[N].d(1);L.length=P.length}R&16&&w(F,"--item-width",C[4]+"px")},i(C){Y(E)},o(C){Q(E)},d(C){C&&(B(e),B(T),B(F)),E.d(C),t[12](null),Fe(L,C),U=!1,ee(H)}}}function jt(t,e=10){return t.length<e+2?t:t.substring(0,e)+"..."}function zt(t){switch(t){case"timer":return"⏳";case"simple":return"😀";case"record":return"✒️";default:return""}}function ti(t,e,n){let{items:i}=e;const s=rt();let l=[],o=at,u;i.afterDataChange=f;function f(){l.length!==i.items.length&&n(1,l=JSON.parse(JSON.stringify(i.items))),i.items.forEach((y,T)=>{y.ts!==l[T].ts&&n(1,l=[...l.slice(0,T),JSON.parse(JSON.stringify(y)),...l.slice(T+1,l.length)])})}i.openDataBase().then(i.loadfromDB.bind(i)),en(()=>{});function c(y,T=1){y.type==="record"?(n(2,o=JSON.parse(JSON.stringify(y))),u.showModal()):i.count(y.id,T)}let _=240;{let y=window.innerWidth-30,T=Math.floor(y/_);_=Math.floor(y/T)}const g=y=>{n(2,o.value-=o.variation,o)},d=y=>{n(2,o.value+=o.variation,o)};function a(){o.value=se(this.value),n(2,o)}const p=y=>{u.close(),i.count(o.id,o.value)};function b(y){_e[y?"unshift":"push"](()=>{u=y,n(3,u)})}const O=(y,T)=>{c(y,-y.variation)},M=(y,T)=>{s("click",y.id)},z=(y,T)=>{c(y,y.variation)},I=(y,T,F)=>c(y,parseInt(T)),x=y=>{i.newCount({}),f()};return t.$$set=y=>{"items"in y&&n(0,i=y.items)},[i,l,o,u,_,s,f,c,g,d,a,p,b,O,M,z,I,x]}class ni extends xe{constructor(e){super(),Je(this,e,ti,ei,fe,{items:0})}}function Wt(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function Rt(t){let e,n,i,s,l;return{c(){e=h("div"),n=h("snap"),n.textContent="countdown:",i=h("input"),m(n,"class","svelte-17xfyge"),m(i,"type","checkbox"),m(i,"class","svelte-17xfyge"),m(e,"class","svelte-17xfyge")},m(o,u){A(o,e,u),r(e,n),r(e,i),i.checked=t[0].countdown,s||(l=q(i,"change",t[13]),s=!0)},p(o,u){u&1&&(i.checked=o[0].countdown)},d(o){o&&B(e),s=!1,l()}}}function Jt(t){let e,n=t[18]+1+"",i,s,l=new Date(t[16].ts*1e3+8*60*60*1e3).toISOString().substring(5,16).split("T").join(" ")+"",o,u,f=t[16].variation+"",c,_,g=t[0].uint+"",d;return{c(){e=h("div"),i=W(n),s=W(".["),o=W(l),u=W("]:"),c=W(f),_=k(),d=W(g),m(e,"class","log svelte-17xfyge")},m(a,p){A(a,e,p),r(e,i),r(e,s),r(e,o),r(e,u),r(e,c),r(e,_),r(e,d)},p(a,p){p&2&&l!==(l=new Date(a[16].ts*1e3+8*60*60*1e3).toISOString().substring(5,16).split("T").join(" ")+"")&&$(o,l),p&2&&f!==(f=a[16].variation+"")&&$(c,f),p&1&&g!==(g=a[0].uint+"")&&$(d,g)},d(a){a&&B(e)}}}function ii(t){let e,n,i,s,l,o,u,f,c,_,g,d,a,p,b,O,M,z,I,x,y,T,F,v,S,U,H,E,P,L,C,R,N,ve,ye,qe,te,ct,be,Me,ne,ft,we,Be,re,dt,Ke,ke,ht,Ce,De,ue,pt,Ie,mt,Xe,Se,Ue,gt,X=t[0].type==="timer"&&Rt(t),de=oe(t[1]),V=[];for(let D=0;D<de.length;D+=1)V[D]=Jt(Wt(t,de,D));return{c(){e=h("div"),n=h("div"),i=h("snap"),i.textContent="name:",s=h("input"),l=k(),o=h("div"),u=h("snap"),u.textContent="desc:",f=h("input"),c=k(),_=h("div"),g=h("snap"),g.textContent="type:",d=k(),a=h("select"),p=h("option"),p.textContent="simple",b=h("option"),b.textContent="record",O=h("option"),O.textContent="timer",M=k(),z=h("div"),I=h("snap"),I.textContent="reset:",x=k(),y=h("select"),T=h("option"),T.textContent="none",F=h("option"),F.textContent="daily",v=h("option"),v.textContent="weekly",S=h("option"),S.textContent="month",U=k(),H=h("div"),E=h("snap"),E.textContent="target:",P=h("input"),L=k(),C=h("div"),R=h("snap"),R.textContent="uint:",N=h("input"),ve=k(),ye=h("div"),qe=h("snap"),qe.textContent="value:",te=h("input"),ct=k(),be=h("div"),Me=h("snap"),Me.textContent="variation:",ne=h("input"),ft=k(),we=h("div"),Be=h("snap"),Be.textContent="var list:",re=h("input"),dt=k(),X&&X.c(),Ke=k(),ke=h("div"),ht=k(),Ce=h("div"),De=h("snap"),De.textContent="abandon:",ue=h("input"),pt=k(),Ie=h("div"),mt=k();for(let D=0;D<V.length;D+=1)V[D].c();Xe=k(),Se=h("button"),Se.textContent="done",m(i,"class","svelte-17xfyge"),m(s,"type","text"),m(s,"class","svelte-17xfyge"),m(n,"class","svelte-17xfyge"),m(u,"class","svelte-17xfyge"),m(f,"type","text"),w(f,"flex-grow","1"),m(f,"class","svelte-17xfyge"),w(o,"width","50%"),w(o,"flex-grow","1"),m(o,"class","svelte-17xfyge"),m(g,"class","svelte-17xfyge"),p.__value="simple",j(p,p.__value),b.__value="record",j(b,b.__value),O.__value="timer",j(O,O.__value),m(a,"class","svelte-17xfyge"),t[0].type===void 0&&le(()=>t[6].call(a)),m(_,"class","svelte-17xfyge"),m(I,"class","svelte-17xfyge"),T.__value="none",j(T,T.__value),F.__value="daily",j(F,F.__value),v.__value="weekly",j(v,v.__value),S.__value="month",j(S,S.__value),m(y,"class","svelte-17xfyge"),t[0].periodic===void 0&&le(()=>t[7].call(y)),m(z,"class","svelte-17xfyge"),m(E,"class","svelte-17xfyge"),m(P,"type","number"),m(P,"class","svelte-17xfyge"),m(H,"class","svelte-17xfyge"),m(R,"class","svelte-17xfyge"),m(N,"type","text"),m(N,"class","svelte-17xfyge"),m(C,"class","svelte-17xfyge"),m(qe,"class","svelte-17xfyge"),m(te,"type","number"),m(te,"class","svelte-17xfyge"),m(ye,"class","svelte-17xfyge"),m(Me,"class","svelte-17xfyge"),m(ne,"type","number"),m(ne,"class","svelte-17xfyge"),m(be,"class","svelte-17xfyge"),m(Be,"class","svelte-17xfyge"),m(re,"type","string"),m(re,"class","svelte-17xfyge"),m(we,"class","svelte-17xfyge"),w(ke,"width","100%"),w(ke,"height","20px"),m(ke,"class","svelte-17xfyge"),w(De,"color","red"),m(De,"class","svelte-17xfyge"),m(ue,"type","checkbox"),m(ue,"class","svelte-17xfyge"),m(Ce,"class","svelte-17xfyge"),w(Ie,"width","100%"),w(Ie,"height","20px"),m(Ie,"class","svelte-17xfyge"),m(Se,"class","cbtn"),m(e,"class","countrecord svelte-17xfyge")},m(D,K){A(D,e,K),r(e,n),r(n,i),r(n,s),j(s,t[0].name),r(e,l),r(e,o),r(o,u),r(o,f),j(f,t[0].desc),r(e,c),r(e,_),r(_,g),r(_,d),r(_,a),r(a,p),r(a,b),r(a,O),Te(a,t[0].type,!0),r(e,M),r(e,z),r(z,I),r(z,x),r(z,y),r(y,T),r(y,F),r(y,v),r(y,S),Te(y,t[0].periodic,!0),r(e,U),r(e,H),r(H,E),r(H,P),j(P,t[0].target),r(e,L),r(e,C),r(C,R),r(C,N),j(N,t[0].uint),r(e,ve),r(e,ye),r(ye,qe),r(ye,te),j(te,t[0].value),r(e,ct),r(e,be),r(be,Me),r(be,ne),j(ne,t[0].variation),r(e,ft),r(e,we),r(we,Be),r(we,re),j(re,t[0].varlist),r(e,dt),X&&X.m(e,null),r(e,Ke),r(e,ke),r(e,ht),r(e,Ce),r(Ce,De),r(Ce,ue),ue.checked=t[2],r(e,pt),r(e,Ie),r(e,mt);for(let J=0;J<V.length;J+=1)V[J]&&V[J].m(e,null);r(e,Xe),r(e,Se),Ue||(gt=[q(s,"input",t[4]),q(f,"input",t[5]),q(a,"change",t[6]),q(y,"change",t[7]),q(P,"input",t[8]),q(N,"input",t[9]),q(te,"input",t[10]),q(ne,"input",t[11]),q(re,"input",t[12]),q(ue,"change",t[14]),q(Se,"click",t[15])],Ue=!0)},p(D,[K]){if(K&1&&s.value!==D[0].name&&j(s,D[0].name),K&1&&f.value!==D[0].desc&&j(f,D[0].desc),K&1&&Te(a,D[0].type),K&1&&Te(y,D[0].periodic),K&1&&se(P.value)!==D[0].target&&j(P,D[0].target),K&1&&N.value!==D[0].uint&&j(N,D[0].uint),K&1&&se(te.value)!==D[0].value&&j(te,D[0].value),K&1&&se(ne.value)!==D[0].variation&&j(ne,D[0].variation),K&1&&j(re,D[0].varlist),D[0].type==="timer"?X?X.p(D,K):(X=Rt(D),X.c(),X.m(e,Ke)):X&&(X.d(1),X=null),K&4&&(ue.checked=D[2]),K&3){de=oe(D[1]);let J;for(J=0;J<de.length;J+=1){const _t=Wt(D,de,J);V[J]?V[J].p(_t,K):(V[J]=Jt(_t),V[J].c(),V[J].m(e,Xe))}for(;J<V.length;J+=1)V[J].d(1);V.length=de.length}},i:G,o:G,d(D){D&&B(e),X&&X.d(),Fe(V,D),Ue=!1,ee(gt)}}}function si(t,e,n){const i=rt();let{data:s=at}=e,{log:l=[]}=e,o=!1;function u(){s.name=this.value,n(0,s)}function f(){s.desc=this.value,n(0,s)}function c(){s.type=yt(this),n(0,s)}function _(){s.periodic=yt(this),n(0,s)}function g(){s.target=se(this.value),n(0,s)}function d(){s.uint=this.value,n(0,s)}function a(){s.value=se(this.value),n(0,s)}function p(){s.variation=se(this.value),n(0,s)}function b(){s.varlist=this.value,n(0,s)}function O(){s.countdown=this.checked,n(0,s)}function M(){o=this.checked,n(2,o)}const z=I=>i("done",{abandon:o});return t.$$set=I=>{"data"in I&&n(0,s=I.data),"log"in I&&n(1,l=I.log)},[s,l,o,i,u,f,c,_,g,d,a,p,b,O,M,z]}class li extends xe{constructor(e){super(),Je(this,e,si,ii,fe,{data:0,log:1})}}function xt(t){let e,n;return e=new li({props:{data:t[1],log:t[4]}}),e.$on("done",t[7]),{c(){ut(e.$$.fragment)},m(i,s){We(e,i,s),n=!0},p(i,s){const l={};s&2&&(l.data=i[1]),s&16&&(l.log=i[4]),e.$set(l)},i(i){n||(Y(e.$$.fragment,i),n=!0)},o(i){Q(e.$$.fragment,i),n=!1},d(i){Re(e,i)}}}function oi(t){let e,n,i,s,l,o,u,f,c,_,g;s=new ni({props:{items:t[5]}}),s.$on("click",t[6]);let d=t[1]!==null&&xt(t);return{c(){e=h("div"),n=h("h3"),n.textContent="Super Count",i=k(),ut(s.$$.fragment),l=k(),o=h("div"),u=h("h3"),u.textContent="Config",f=k(),d&&d.c(),c=k(),_=h("div"),_.innerHTML=`<h3 class="svelte-r20tbb">trend</h3>
            tbd`,m(n,"class","svelte-r20tbb"),m(e,"class","page svelte-r20tbb"),m(u,"class","svelte-r20tbb"),m(o,"class","page svelte-r20tbb"),m(_,"class","page svelte-r20tbb")},m(a,p){A(a,e,p),r(e,n),r(e,i),We(s,e,null),A(a,l,p),A(a,o,p),r(o,u),r(o,f),d&&d.m(o,null),A(a,c,p),A(a,_,p),g=!0},p(a,p){a[1]!==null?d?(d.p(a,p),p&2&&Y(d,1)):(d=xt(a),d.c(),Y(d,1),d.m(o,null)):d&&(je(),Q(d,1,1,()=>{d=null}),ze())},i(a){g||(Y(s.$$.fragment,a),Y(d),g=!0)},o(a){Q(s.$$.fragment,a),Q(d),g=!1},d(a){a&&(B(e),B(l),B(o),B(c),B(_)),Re(s),d&&d.d()}}}function Vt(t){let e,n,i,s,l;function o(c){t[9](c)}function u(c){t[10](c)}let f={pages:3,$$slots:{default:[oi]},$$scope:{ctx:t}};return t[2]!==void 0&&(f.pageWide=t[2]),t[3]!==void 0&&(f.height=t[3]),n=new Gn({props:f}),t[8](n),_e.push(()=>Ct(n,"pageWide",o)),_e.push(()=>Ct(n,"height",u)),{c(){e=h("div"),ut(n.$$.fragment),w(e,"--pagew",t[2]+"px")},m(c,_){A(c,e,_),We(n,e,null),l=!0},p(c,_){const g={};_&2067&&(g.$$scope={dirty:_,ctx:c}),!i&&_&4&&(i=!0,g.pageWide=c[2],wt(()=>i=!1)),!s&&_&8&&(s=!0,g.height=c[3],wt(()=>s=!1)),n.$set(g),(!l||_&4)&&w(e,"--pagew",c[2]+"px")},i(c){l||(Y(n.$$.fragment,c),l=!0)},o(c){Q(n.$$.fragment,c),l=!1},d(c){c&&B(e),t[8](null),Re(n)}}}function ri(t){let e=t[2],n,i,s=Vt(t);return{c(){s.c(),n=Gt()},m(l,o){s.m(l,o),A(l,n,o),i=!0},p(l,[o]){o&4&&fe(e,e=l[2])?(je(),Q(s,1,1,G),ze(),s=Vt(l),s.c(),Y(s,1),s.m(n.parentNode,n)):s.p(l,o)},i(l){i||(Y(s),i=!0)},o(l){Q(s),i=!1},d(l){l&&B(n),s.d(l)}}}function ui(t,e,n){let i,s=new Hn,l=null;window.test=s;let o=Math.min(window.innerWidth-5,800),u=window.innerHeight;addEventListener("resize",p=>{n(2,o=Math.min(window.innerWidth-5,800)),n(3,u=window.innerHeight),console.log({pagew:o,pageh:u})}),addEventListener("visibilitychange",p=>{document.visibilityState==="visible"&&s.checkReset()});let f=[];en(()=>{});const c=async p=>{n(1,l=s.id2target(p.detail)),n(4,f=await s.getLastlog(p.detail)),i.toPage(1)},_=p=>{i.toPage(0),s.afterDataChange(),p.detail.abandon&&l?(s.deleteCount(l.id),n(1,l=null)):!p.detail.abandon&&l&&(s.update(l),n(1,l=null))};function g(p){_e[p?"unshift":"push"](()=>{i=p,n(0,i)})}function d(p){o=p,n(2,o)}function a(p){u=p,n(3,u)}return[i,l,o,u,f,s,c,_,g,d,a]}class ai extends xe{constructor(e){super(),Je(this,e,ui,ri,fe,{})}}new ai({target:document.getElementById("app")});
