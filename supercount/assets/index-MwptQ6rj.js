var Zl=Object.defineProperty;var Kl=(e,t,l)=>t in e?Zl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var oe=(e,t,l)=>(Kl(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=l(r);fetch(r.href,s)}})();function et(){}function Tl(e){return e()}function ml(){return Object.create(null)}function ze(e){e.forEach(Tl)}function Dl(e){return typeof e=="function"}function Vt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let It;function T(e,t){return e===t?!0:(It||(It=document.createElement("a")),It.href=t,e===It.href)}function Vl(e){return Object.keys(e).length===0}function c(e,t){e.appendChild(t)}function me(e,t,l){e.insertBefore(t,l||null)}function fe(e){e.parentNode&&e.parentNode.removeChild(e)}function Oe(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function m(e){return document.createElement(e)}function tt(e){return document.createTextNode(e)}function w(){return tt(" ")}function Ql(){return tt("")}function y(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function _l(e){return function(t){return t.preventDefault(),e.call(this,t)}}function xl(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function i(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function $l(e){return e===""?null:+e}function en(e){return Array.from(e.childNodes)}function Ul(e,t){t=""+t,e.data!==t&&(e.data=t)}function U(e,t){e.value=t??""}function p(e,t,l,n){l==null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}function pl(e,t,l){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}(!l||t!==void 0)&&(e.selectedIndex=-1)}function tn(e){const t=e.querySelector(":checked");return t&&t.__value}function ln(e,t,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:l,cancelable:n})}let lt;function $e(e){lt=e}function Fl(){if(!lt)throw new Error("Function called outside component initialization");return lt}function nn(e){Fl().$$.on_mount.push(e)}function rn(){const e=Fl();return(t,l,{cancelable:n=!1}={})=>{const r=e.$$.callbacks[t];if(r){const s=ln(t,l,{cancelable:n});return r.slice().forEach(o=>{o.call(e,s)}),!s.defaultPrevented}return!0}}const We=[],Bt=[];let qe=[];const vl=[],on=Promise.resolve();let Kt=!1;function sn(){Kt||(Kt=!0,on.then(Xl))}function Jt(e){qe.push(e)}const qt=new Set;let Ge=0;function Xl(){if(Ge!==0)return;const e=lt;do{try{for(;Ge<We.length;){const t=We[Ge];Ge++,$e(t),an(t.$$)}}catch(t){throw We.length=0,Ge=0,t}for($e(null),We.length=0,Ge=0;Bt.length;)Bt.pop()();for(let t=0;t<qe.length;t+=1){const l=qe[t];qt.has(l)||(qt.add(l),l())}qe.length=0}while(We.length);for(;vl.length;)vl.pop()();Kt=!1,qt.clear(),$e(e)}function an(e){if(e.fragment!==null){e.update(),ze(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Jt)}}function cn(e){const t=[],l=[];qe.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),qe=t}const Lt=new Set;let fn;function Yl(e,t){e&&e.i&&(Lt.delete(e),e.i(t))}function un(e,t,l,n){if(e&&e.o){if(Lt.has(e))return;Lt.add(e),fn.c.push(()=>{Lt.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function V(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function hn(e){e&&e.c()}function Gl(e,t,l){const{fragment:n,after_update:r}=e.$$;n&&n.m(t,l),Jt(()=>{const s=e.$$.on_mount.map(Tl).filter(Dl);e.$$.on_destroy?e.$$.on_destroy.push(...s):ze(s),e.$$.on_mount=[]}),r.forEach(Jt)}function Wl(e,t){const l=e.$$;l.fragment!==null&&(cn(l.after_update),ze(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function dn(e,t){e.$$.dirty[0]===-1&&(We.push(e),sn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ql(e,t,l,n,r,s,o=null,d=[-1]){const f=lt;$e(e);const a=e.$$={fragment:null,ctx:[],props:s,update:et,not_equal:r,bound:ml(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:ml(),dirty:d,skip_bound:!1,root:t.target||f.$$.root};o&&o(a.root);let S=!1;if(a.ctx=l?l(e,t.props||{},(_,C,...h)=>{const E=h.length?h[0]:C;return a.ctx&&r(a.ctx[_],a.ctx[_]=E)&&(!a.skip_bound&&a.bound[_]&&a.bound[_](E),S&&dn(e,_)),C}):[],a.update(),S=!0,ze(a.before_update),a.fragment=n?n(a.ctx):!1,t.target){if(t.hydrate){const _=en(t.target);a.fragment&&a.fragment.l(_),_.forEach(fe)}else a.fragment&&a.fragment.c();t.intro&&Yl(e.$$.fragment),Gl(e,t.target,t.anchor),Xl()}$e(f)}class Hl{constructor(){oe(this,"$$");oe(this,"$$set")}$destroy(){Wl(this,1),this.$destroy=et}$on(t,l){if(!Dl(l))return et;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!Vl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const gn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gn);function bl(e="json"){return new Promise(t=>{let l=document.createElement("input");l.type="file",l.accept=`.${e}`,l.setAttribute("display","none"),l.onchange=n=>{let r=new FileReader;r.onload=function(){t(r.result)},l.files&&l.files[0]&&(e!=="png"?r.readAsText(l.files[0]):r.readAsDataURL(l.files[0]))},l.click()})}function mn(e,t){return localStorage[t]=e.toDataURL("image/png"),{name:t,url:localStorage[t]}}function Ht(e,t="",l="__canvasCache"){let n=JSON.parse(localStorage.getItem(l)||"[]");t=t||n.length.toString(),n.includes(t)||(n.push(t),localStorage[l]=JSON.stringify(n));let r=mn(e,`__cc_${t}`);return{name:t,url:r.url}}function _n(e,t="__brickCache"){let l=JSON.parse(localStorage.getItem(t)||"[]");return e.name=e.name||l.length.toString(),l.includes(e.name)||(l.push(e.name),localStorage[t]=JSON.stringify(l)),localStorage[`__bc_${e.name}`]=JSON.stringify(e),e}function pn(e,t="__brickCache"){if(typeof e=="string")return JSON.parse(localStorage.getItem(`__bc_${e}`)||"null");let l=JSON.parse(localStorage.getItem(t)||"[]");return typeof e=="number"&&e<l.length?JSON.parse(localStorage.getItem(`__bc_${l[e]}`)||"null"):JSON.parse(localStorage[`__bc_${l[l.length-1]}`]||"null")}function Zt(e="__brickCache"){return JSON.parse(localStorage.getItem(e)||"[]").map(l=>pn(l)).filter(l=>l!=null)}function kl(e,t="__canvasCache",l="__cc_"){let n=JSON.parse(localStorage.getItem(t)||"[]"),r=n.filter(s=>s===e);console.log(),r.length!==0&&(localStorage.removeItem(`${l}${r[0]}`),localStorage[t]=JSON.stringify(n.filter(s=>s!==e)))}function Pt(e="__canvasCache"){return JSON.parse(localStorage.getItem(e)||"[]").map(l=>({name:l,url:localStorage[`__cc_${l}`]}))}function wl(e,t="file.txt",l="txt"){let n=null;if(l!=="dataurl")if(e instanceof Blob)n=e;else if(typeof e=="object")n=new Blob([JSON.stringify(e)],{type:"txt"}),console.log("obj");else if(typeof e=="string")n=new Blob([e],{type:"txt"});else return!1;var r=document.createElement("a");return r.download=t,n?r.href=window.URL.createObjectURL(n):r.href=e,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}function vn(e,t=20){let l=0;return(...r)=>{clearTimeout(l),l=setTimeout(()=>e(...r),t)}}function yl(e){let[t,l,n]=e,r=0,s=0,o,d,f=t/255,a=l/255,S=n/255;o=Math.max(f,a,S),d=o-Math.min(f,a,S);let _=h=>(o-h)/6/d+1/2,C=h=>Math.round(h*100)/100;if(d!==0){s=d/o;let h=_(f),E=_(a),N=_(S);f===o?r=N-E:a===o?r=1/3+h-N:S===o&&(r=2/3+E-h),r<0?r+=1:r>1&&(r-=1)}return{h:Math.round(r*360),s:C(s*100),v:C(o*100)}}function bn(e,t){let l=yl(e),n=yl(t);return Math.pow(l.h-n.h,2)+Math.pow(l.s-n.s,2)+Math.pow(l.v-n.v,2)}class kn{constructor(t,l=1,n=void 0,r=[[0,0,0],[255,255,255]]){oe(this,"dim",{w:128,h:128});oe(this,"img",[]);oe(this,"targetColors",[]);oe(this,"colorCode",[]);oe(this,"zoom",1);oe(this,"canvas");oe(this,"ctx",null);oe(this,"log",[]);oe(this,"colorAgg",this.colorMedian);this.dim.w=t.w,this.dim.h=t.h,this.setTargetColor(r),this.zoom=l,n&&(this.canvas=n,this.ctx=this.canvas.getContext("2d")),this.img=new Array(t.w).fill(0).map(s=>new Array(t.h).fill(0).map(o=>[255,255,255]))}rgb(t){let l=document.createElement("canvas").getContext("2d");l&&(l.fillStyle=t);let n=(l==null?void 0:l.fillStyle)||"#000000",r=parseInt(n.substring(1,7),16);return[r>>16,r>>8&255,r&255]}setTargetColor(t,l){return typeof t[0]=="string"?this.targetColors=t.map(n=>this.rgb(n)):this.targetColors=t,l?this.colorCode=l:this.colorCode=this.targetColors.map((n,r)=>r),this}color2style(t){return"#"+t.map(l=>{let n=l.toString(16);return"0".repeat(2-n.length)+n}).join("")}drawCanvas(t=this.canvas,l=this.img){if(!t)return;let n=t.getContext("2d");if(n){this.ctx=n,t.width=this.dim.w*this.zoom,t.height=this.dim.h*this.zoom;for(let r=0;r<this.dim.w;r++)for(let s=0;s<this.dim.h;s++)n.fillStyle=this.color2style(l[r][s]),n.fillRect(this.zoom*r,this.zoom*s,this.zoom,this.zoom);return this}}drawPoint(t,l,n,r){if(!r)return;typeof n=="string"&&(n=this.rgb(n));let s=this.img[t][l];if(s[0]===n[0]&&s[1]===n[1]&&s[2]===n[2])return;let o=this.log.pop();o&&(o.x!==t||o.y!==l||o.cl[0]!==s[0]||o.cl[1]!==s[1]||o.cl[2]!==s[2])&&this.log.push(o),this.log.push({x:t,y:l,cl:[...this.img[t][l]]}),this.img[t][l]=n,this.drawCanvas(r)}undo(t=this.canvas){let l=this.log.pop();l&&(this.img[l.x][l.y]=l.cl,this.drawCanvas(t))}colorMean(t,l,n,r,s=!1){let o=[0,0,0],d=0;for(let f=0;f<r.w;f++)for(let a=0;a<r.h;a++){let S=((l.h+a)*n+l.w+f)*4;S<t.length?o.forEach((_,C)=>o[C]+=t[S+C]):o.forEach((_,C)=>o[C]+=255),d++}return o.forEach((f,a)=>o[a]=Math.round(f/d)),s?this.asTargetRGB(o):o}colorMedian(t,l,n,r,s=!1){let o=[],d=0;for(let f=0;f<r.w;f++)for(let a=0;a<r.h;a++){let S=((l.h+a)*n+l.w+f)*4;S<t.length&&(d++,o.push([t[S],t[S+1],t[S+2]]))}return o.length===0?[255,255,255]:s?this.asTargetRGB([o.sort((f,a)=>f[0]>a[0]?1:-1)[d>>1][0],o.sort((f,a)=>f[1]>a[1]?1:-1)[d>>1][1],o.sort((f,a)=>f[2]>a[2]?1:-1)[d>>1][2]]):[o.sort((f,a)=>f[0]>a[0]?1:-1)[d>>1][0],o.sort((f,a)=>f[1]>a[1]?1:-1)[d>>1][1],o.sort((f,a)=>f[2]>a[2]?1:-1)[d>>1][2]]}majorColor(t=6,l=this.img){let n=new Map;l.forEach((o,d)=>{o.forEach((f,a)=>{let _="#"+l[d][a].map(C=>{let h=(C&240|7).toString(16);return"0".repeat(2-h.length)+h}).join("");n.set(_,(n.get(_)||0)+1)})});let r=[...n].sort((o,d)=>o[1]>d[1]?-1:1).filter(o=>o[1]>1),s=[];if(r.length>5)for(let o=1;o<r.length;o++)for(let d=0;d<o;d++)!s.includes(d)&&bn(this.rgb(r[o][0]),this.rgb(r[d][0]))<2*10*10&&s.push(o);return r.filter((o,d)=>!s.includes(d)).filter((o,d)=>d<t)}clear(){return this.img=new Array(this.dim.w).fill(0).map(t=>new Array(this.dim.h).fill(0).map(l=>[255,255,255])),this}setimg(t,l=0,n="auto",r={sx:0,sy:0,sw:0,sh:0,dx:0,dy:0,dw:0,dh:0}){this.img=new Array(this.dim.w).fill(0).map(J=>new Array(this.dim.h).fill(0).map(P=>[255,255,255])),this.log=[];let{sx:s,sy:o,sw:d,sh:f,dx:a,dy:S,dw:_,dh:C}=r,h=document.createElement("canvas"),E=4;h.width=this.dim.w*E,h.height=this.dim.h*E;let N=h.getContext("2d");switch(n){case"auto":s=o=a=S=0,d=t.naturalWidth,f=t.naturalHeight,h.width/h.height>t.naturalWidth/t.naturalHeight?(C=h.height,_=C*d/f,a=(h.width-_)/2):(_=h.width,C=_*f/d,S=(h.height-C)/2);break;case"fitwidth":s=o=a=S=0,_=h.width,C=h.height,d=t.naturalWidth,f=d*C/_;break;case"fitheight":s=o=a=S=0,_=h.width,C=h.height,f=t.naturalHeight,d=f*_/C;break}N.fillStyle="#ffffff",N.fillRect(0,0,h.width,h.height),N.drawImage(t,s,o,d,f,a,S,_,C);let B=N.getImageData(0,0,h.width,h.height).data;return this.img.forEach((J,P)=>{J.forEach((z,M)=>{this.img[P][M]=this.colorAgg(B,{w:P*E,h:M*E},h.width,{w:2,h:2})})}),l>0&&(this.setTargetColor(this.majorColor(l).map(J=>this.rgb(J[0]))),this.img.forEach((J,P)=>{J.forEach((z,M)=>{this.img[P][M]=this.colorAgg(B,{w:P*E,h:M*E},h.width,{w:2,h:2},!0)})})),this}loadimg(t=0,l="auto",n={sx:0,sy:0,sw:0,sh:0,dx:0,dy:0,dw:0,dh:0}){return new Promise(r=>{let s=document.createElement("input"),o=this.setimg.bind(this);s.type="file",s.accept="png",s.setAttribute("display","none"),s.onchange=d=>{let f=new FileReader;f.onload=function(){let a=new Image;a.src=f.result,a.onload=S=>r(o(a,t,l,n))},s.files&&s.files[0]&&f.readAsDataURL(s.files[0])},s.click()})}distinceRGB(t,l){return(t[0]-l[0])*(t[0]-l[0])*.299+(t[1]-l[1])*(t[1]-l[1])*.587+(t[2]-l[2])*(t[2]-l[2])*.11}asTargetRGB(t,l=this.distinceRGB){let n=this.targetColors.map(r=>({target:r,d:l(r,t)}));return n=n.sort((r,s)=>r.d>s.d?1:-1),n[0].target}getColorCode(t,l){let n=this.img[t][l];return this.targetColors.reduce((r,s,o)=>s[0]!==n[0]||s[1]!==n[1]||s[2]!==n[2]?r:this.colorCode[o],0)}}function Cl(e,t,l){const n=e.slice();return n[5]=t[l],n[7]=l,n}function Sl(e){let t,l,n;function r(...s){return e[4](e[7],...s)}return{c(){t=m("div"),i(t,"class","face face"+(e[7]+1)+" svelte-sgd8aj"),i(t,"tabindex","-1"),p(t,"background-image","url("+e[5].url+")")},m(s,o){me(s,t,o),l||(n=y(t,"click",r),l=!0)},p(s,o){e=s,o&1&&p(t,"background-image","url("+e[5].url+")")},d(s){s&&fe(t),l=!1,n()}}}function wn(e){let t,l,n,r,s=V(e[0].faces),o=[];for(let d=0;d<s.length;d+=1)o[d]=Sl(Cl(e,s,d));return{c(){t=m("div"),l=m("div");for(let d=0;d<o.length;d+=1)o[d].c();i(l,"class","inner svelte-sgd8aj"),p(l,"--innr",e[0].inR+"deg"),i(t,"class","cube svelte-sgd8aj"),p(t,"z-index",e[0].zidx),p(t,"--bkX",(e[0].x??0)+"px"),p(t,"--bkY",(e[0].y??0)+"px"),p(t,"--bkZ",(e[0].z??0)+"px"),p(t,"--rox",e[2].x+"deg"),p(t,"--roy",e[2].y+"deg"),p(t,"--roz",e[2].z+"deg")},m(d,f){me(d,t,f),c(t,l);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(l,null);n||(r=y(t,"keydown",e[3]),n=!0)},p(d,[f]){if(f&3){s=V(d[0].faces);let a;for(a=0;a<s.length;a+=1){const S=Cl(d,s,a);o[a]?o[a].p(S,f):(o[a]=Sl(S),o[a].c(),o[a].m(l,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=s.length}f&1&&p(l,"--innr",d[0].inR+"deg"),f&1&&p(t,"z-index",d[0].zidx),f&1&&p(t,"--bkX",(d[0].x??0)+"px"),f&1&&p(t,"--bkY",(d[0].y??0)+"px"),f&1&&p(t,"--bkZ",(d[0].z??0)+"px")},i:et,o:et,d(d){d&&fe(t),Oe(o,d),n=!1,r()}}}function yn(e,t,l){const n=rn();let r={x:-20,y:-45,z:0},{bk:s={name:"test001",faces:[]}}=t;function o(f){f.keyCode===8&&n("delete",s)}const d=(f,a)=>{n("newbrick",{bk:s,f})};return e.$$set=f=>{"bk"in f&&l(0,s=f.bk)},[s,n,r,o,d]}class Cn extends Hl{constructor(t){super(),ql(this,t,yn,wn,Vt,{bk:0})}}function El(e,t,l){const n=e.slice();return n[67]=t[l],n}function Ml(e,t,l){const n=e.slice();return n[70]=t[l],n}function Nl(e,t,l){const n=e.slice();return n[73]=t[l],n}function Rl(e,t,l){const n=e.slice();return n[76]=t[l],n[78]=l,n}function Al(e,t,l){const n=e.slice();return n[76]=t[l],n}function Ol(e,t,l){const n=e.slice();return n[81]=t[l],n}function zl(e){let t,l;return{c(){t=m("option"),t.__value=l=e[81],U(t,t.__value)},m(n,r){me(n,t,r)},p(n,r){r[0]&256&&l!==(l=n[81])&&(t.__value=l,U(t,t.__value))},d(n){n&&fe(t)}}}function jl(e){let t,l,n,r,s;function o(...f){return e[26](e[76],...f)}function d(...f){return e[27](e[76],...f)}return{c(){t=m("img"),T(t.src,l=e[76].url)||i(t,"src",l),i(t,"alt",n=e[76].name),i(t,"class","svelte-183p2mc")},m(f,a){me(f,t,a),r||(s=[y(t,"click",o),y(t,"dblclick",d)],r=!0)},p(f,a){e=f,a[0]&64&&!T(t.src,l=e[76].url)&&i(t,"src",l),a[0]&64&&n!==(n=e[76].name)&&i(t,"alt",n)},d(f){f&&fe(t),r=!1,ze(s)}}}function Il(e){let t,l,n,r,s;function o(...f){return e[28](e[76],...f)}function d(...f){return e[29](e[76],...f)}return{c(){t=m("img"),T(t.src,l=e[76].url)||i(t,"src",l),i(t,"alt",n=e[76].name),i(t,"class","svelte-183p2mc")},m(f,a){me(f,t,a),r||(s=[y(t,"click",o),y(t,"dblclick",d)],r=!0)},p(f,a){e=f,a[0]&16&&!T(t.src,l=e[76].url)&&i(t,"src",l),a[0]&16&&n!==(n=e[76].name)&&i(t,"alt",n)},d(f){f&&fe(t),r=!1,ze(s)}}}function Pl(e){let t,l,n;function r(...s){return e[37](e[73],...s)}return{c(){t=m("div"),p(t,"background",e[73][0]),p(t,"width","36px"),p(t,"height","36px"),p(t,"margin","auto")},m(s,o){me(s,t,o),l||(n=y(t,"click",r),l=!0)},p(s,o){e=s,o[0]&131072&&p(t,"background",e[73][0])},d(s){s&&fe(t),l=!1,n()}}}function Ll(e){let t,l,n;return{c(){t=m("img"),T(t.src,l=e[70].url)||i(t,"src",l),i(t,"alt",n=e[70].name),i(t,"class","svelte-183p2mc")},m(r,s){me(r,t,s)},p(r,s){s[0]&1024&&!T(t.src,l=r[70].url)&&i(t,"src",l),s[0]&1024&&n!==(n=r[70].name)&&i(t,"alt",n)},d(r){r&&fe(t)}}}function Bl(e){let t,l,n=e[67].name+"",r,s,o,d,f=V(e[67].faces),a=[];for(let _=0;_<f.length;_+=1)a[_]=Ll(Ml(e,f,_));function S(..._){return e[64](e[67],..._)}return{c(){t=m("div");for(let _=0;_<a.length;_+=1)a[_].c();l=w(),r=tt(n),s=w(),p(t,"width","500px")},m(_,C){me(_,t,C);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(t,null);c(t,l),c(t,r),c(t,s),o||(d=y(t,"click",S),o=!0)},p(_,C){if(e=_,C[0]&1024){f=V(e[67].faces);let h;for(h=0;h<f.length;h+=1){const E=Ml(e,f,h);a[h]?a[h].p(E,C):(a[h]=Ll(E),a[h].c(),a[h].m(t,l))}for(;h<a.length;h+=1)a[h].d(1);a.length=f.length}C[0]&1024&&n!==(n=e[67].name+"")&&Ul(r,n)},d(_){_&&fe(t),Oe(a,_),o=!1,d()}}}function Jl(e){let t,l=V(e[10]),n=[];for(let r=0;r<l.length;r+=1)n[r]=Bl(El(e,l,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();t=Ql()},m(r,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(r,s);me(r,t,s)},p(r,s){if(s[0]&1536){l=V(r[10]);let o;for(o=0;o<l.length;o+=1){const d=El(r,l,o);n[o]?n[o].p(d,s):(n[o]=Bl(d),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(r){r&&fe(t),Oe(n,r)}}}function Sn(e){let t,l,n,r,s,o,d,f,a,S,_,C,h,E,N,B,J,P,z,M,je,ue,Ie,Pe,Re,He,se,he,q,Le,nt,pe,rt,ve,ot,x,st,_e,it,D,Be,at,ie,ct,Ze,ft,H,be,ke,we,ye,Ce,ut,Je,ht,Q,Ke,dt,Se,j,Te,De,Tt,F,Dt,Z,ae,Ve,Ut,g,v,R,L,K,Qt,de,gt,xt,Qe,$t,xe,el,Ee,tl,O,Ft,ll,$,mt,_t,pt,nl,Xt,rl,Yt,ol,ee,vt,bt,kt,sl,te,wt,yt,Ct,il,le,St,Et,Mt,al,ne,Nt,Rt,At,cl,Gt,fl,re,Ot,zt,jt,ul,ge,Ae,hl,dl=e[9],A,Wt,gl,Ue=V(e[8]),X=[];for(let u=0;u<Ue.length;u+=1)X[u]=zl(Ol(e,Ue,u));let Fe=V(e[6]),Y=[];for(let u=0;u<Fe.length;u+=1)Y[u]=jl(Al(e,Fe,u));let Xe=V(e[4]),G=[];for(let u=0;u<Xe.length;u+=1)G[u]=Il(Rl(e,Xe,u));let Ye=V(e[17]),W=[];for(let u=0;u<Ye.length;u+=1)W[u]=Pl(Nl(e,Ye,u));Ae=new Cn({props:{bk:e[9]}});let Me=Jl(e);return{c(){t=m("div"),l=m("div"),n=m("div"),r=m("span"),r.textContent="filter:",s=w(),o=m("input"),d=w(),f=m("datalist");for(let u=0;u<X.length;u+=1)X[u].c();a=w();for(let u=0;u<Y.length;u+=1)Y[u].c();S=w(),_=m("div"),C=w();for(let u=0;u<G.length;u+=1)G[u].c();h=w(),E=m("div"),N=m("div"),B=m("span"),B.textContent="file:",J=w(),P=m("button"),P.textContent="save",z=w(),M=m("button"),M.textContent="load",je=w(),ue=m("div"),Ie=m("span"),Ie.textContent="cache:",Pe=w(),Re=m("button"),Re.textContent="add",He=w(),se=m("button"),se.textContent="delete",he=w(),q=m("div"),Le=m("span"),Le.textContent="editor:",nt=w(),pe=m("button"),pe.textContent="clear",rt=w(),ve=m("button"),ve.textContent="undo",ot=w(),x=m("input"),st=w(),_e=m("div");for(let u=0;u<W.length;u+=1)W[u].c();it=w(),D=m("div"),Be=m("span"),Be.textContent="name:",at=w(),ie=m("input"),ct=w(),Ze=m("p"),Ze.textContent="pixel:",ft=w(),H=m("select"),be=m("option"),be.textContent="8",ke=m("option"),ke.textContent="16",we=m("option"),we.textContent="32",ye=m("option"),ye.textContent="64",Ce=m("option"),Ce.textContent="128",ut=w(),Je=m("span"),Je.textContent="edge:",ht=w(),Q=m("input"),Ke=tt(e[3]),dt=w(),Se=m("div"),j=m("canvas"),Tt=w(),F=m("img"),Dt=w(),Z=m("div"),ae=m("div"),Ve=m("span"),Ve.textContent="file:",Ut=w(),g=m("button"),g.textContent="save",v=w(),R=m("button"),R.textContent="load",L=w(),K=m("button"),K.textContent="PNGs",Qt=w(),de=m("div"),gt=m("span"),gt.textContent="cache:",xt=w(),Qe=m("button"),Qe.textContent="add",$t=w(),xe=m("button"),xe.textContent="delete",el=tt(`
            name:`),Ee=m("input"),tl=w(),O=m("div"),Ft=m("div"),ll=w(),$=m("img"),nl=w(),Xt=m("div"),rl=w(),Yt=m("div"),ol=w(),ee=m("img"),sl=w(),te=m("img"),il=w(),le=m("img"),al=w(),ne=m("img"),cl=w(),Gt=m("div"),fl=w(),re=m("img"),ul=w(),ge=m("div"),hn(Ae.$$.fragment),hl=w(),Me.c(),i(o,"type","text"),i(o,"list","keyword"),p(n,"margin","20px 0 20px 0"),i(f,"id","keyword"),p(_,"width","200px"),p(_,"height","2px"),p(_,"background","goldenrod"),p(_,"margin","30px 0 30px"),i(l,"class","facelist svelte-183p2mc"),i(B,"class","svelte-183p2mc"),i(P,"type","button"),i(P,"class","svelte-183p2mc"),i(M,"class","svelte-183p2mc"),i(N,"class","ftContainer svelte-183p2mc"),i(Ie,"class","svelte-183p2mc"),i(Re,"class","svelte-183p2mc"),i(se,"class","svelte-183p2mc"),i(ue,"class","ftContainer svelte-183p2mc"),i(Le,"class","svelte-183p2mc"),i(pe,"type","button"),i(pe,"class","svelte-183p2mc"),i(ve,"type","button"),i(ve,"class","svelte-183p2mc"),i(x,"type","color"),p(x,"margin","auto"),p(x,"margin-left","5px"),p(x,"margin-right","5px"),i(x,"class","svelte-183p2mc"),p(_e,"display","flex"),p(_e,"flex-wrap","wrap"),p(_e,"width","216px"),i(q,"class","ftContainer svelte-183p2mc"),i(Be,"class","svelte-183p2mc"),i(ie,"type","text"),p(ie,"height","20px"),i(ie,"class","svelte-183p2mc"),be.__value=8,U(be,be.__value),ke.__value=16,U(ke,ke.__value),we.__value=32,U(we,we.__value),ye.__value=64,U(ye,ye.__value),Ce.__value=128,U(Ce,Ce.__value),e[1]===void 0&&Jt(()=>e[39].call(H)),i(Je,"class","svelte-183p2mc"),i(Q,"type","range"),i(Q,"min","128"),i(Q,"max","600"),i(Q,"step","8"),i(Q,"class","svelte-183p2mc"),i(D,"class","ftContainer svelte-183p2mc"),i(j,"width",Te=e[1]*e[2]),i(j,"height",De=e[1]*e[2]),p(j,"border","1px solid red"),p(j,"width",e[3]+"px"),p(j,"margin","auto"),i(F,"width",e[3]),i(F,"height",e[3]),p(F,"border","1px solid red"),p(F,"width",e[3]+"px"),p(F,"height",e[3]+"px"),p(F,"margin","auto"),i(F,"class","svelte-183p2mc"),i(Se,"class","canvasContainer svelte-183p2mc"),i(E,"class","face svelte-183p2mc"),i(Ve,"class","svelte-183p2mc"),i(g,"class","svelte-183p2mc"),i(R,"class","svelte-183p2mc"),i(K,"class","svelte-183p2mc"),i(ae,"class","ftContainer svelte-183p2mc"),i(gt,"class","svelte-183p2mc"),i(Qe,"class","svelte-183p2mc"),i(xe,"class","svelte-183p2mc"),i(Ee,"type","text"),i(Ee,"class","svelte-183p2mc"),i(de,"class","ftContainer svelte-183p2mc"),i(Ft,"class","nullimg svelte-183p2mc"),T($.src,mt=e[9].faces[4].url)||i($,"src",mt),i($,"alt",_t=e[9].faces[4].name),i($,"style",pt=e[9].targetface===4?"border:red 1px solid;":"border:gray 1px dotted;"),i($,"class","svelte-183p2mc"),i(Xt,"class","nullimg svelte-183p2mc"),i(Yt,"class","nullimg svelte-183p2mc"),T(ee.src,vt=e[9].faces[3].url)||i(ee,"src",vt),i(ee,"alt",bt=e[9].faces[3].name),i(ee,"style",kt=e[9].targetface===3?"border:red 1px solid;":"border:gray 1px dotted;"),i(ee,"class","svelte-183p2mc"),T(te.src,wt=e[9].faces[0].url)||i(te,"src",wt),i(te,"alt",yt=e[9].faces[0].name),i(te,"style",Ct=e[9].targetface===0?"border:red 1px solid;":"border:gray 1px dotted;"),i(te,"class","svelte-183p2mc"),T(le.src,St=e[9].faces[1].url)||i(le,"src",St),i(le,"alt",Et=e[9].faces[1].name),i(le,"style",Mt=e[9].targetface===1?"border:red 1px solid;":"border:gray 1px dotted;"),i(le,"class","svelte-183p2mc"),T(ne.src,Nt=e[9].faces[2].url)||i(ne,"src",Nt),i(ne,"alt",Rt=e[9].faces[2].name),i(ne,"style",At=e[9].targetface===2?"border:red 1px solid;":"border:gray 1px dotted;"),i(ne,"class","svelte-183p2mc"),i(Gt,"class","nullimg svelte-183p2mc"),T(re.src,Ot=e[9].faces[5].url)||i(re,"src",Ot),i(re,"alt",zt=e[9].faces[5].name),i(re,"style",jt=e[9].targetface===5?"border:red 1px solid;":"border:gray 1px dotted;"),i(re,"class","svelte-183p2mc"),p(O,"display","flex"),p(O,"flex-wrap","wrap"),p(O,"width","280px"),p(O,"margin","10px"),p(ge,"position","relative"),p(ge,"margin-top","60px"),p(ge,"--size","120px"),p(ge,"--rx","-20deg"),p(ge,"--ry",e[18]+"deg"),p(ge,"--rz","0deg"),i(Z,"class","brick svelte-183p2mc"),i(t,"style","display: flex;"+(window.innerWidth<800?"flex-wrap:wrap;":"flex-wrap:none"))},m(u,k){me(u,t,k),c(t,l),c(l,n),c(n,r),c(n,s),c(n,o),U(o,e[7]),c(l,d),c(l,f);for(let I=0;I<X.length;I+=1)X[I]&&X[I].m(f,null);c(l,a);for(let I=0;I<Y.length;I+=1)Y[I]&&Y[I].m(l,null);c(l,S),c(l,_),c(l,C);for(let I=0;I<G.length;I+=1)G[I]&&G[I].m(l,null);c(t,h),c(t,E),c(E,N),c(N,B),c(N,J),c(N,P),c(N,z),c(N,M),c(E,je),c(E,ue),c(ue,Ie),c(ue,Pe),c(ue,Re),c(ue,He),c(ue,se),c(E,he),c(E,q),c(q,Le),c(q,nt),c(q,pe),c(q,rt),c(q,ve),c(q,ot),c(q,x),U(x,e[14]),c(q,st),c(q,_e);for(let I=0;I<W.length;I+=1)W[I]&&W[I].m(_e,null);c(E,it),c(E,D),c(D,Be),c(D,at),c(D,ie),U(ie,e[15]),c(D,ct),c(D,Ze),c(D,ft),c(D,H),c(H,be),c(H,ke),c(H,we),c(H,ye),c(H,Ce),pl(H,e[1],!0),c(D,ut),c(D,Je),c(D,ht),c(D,Q),U(Q,e[3]),c(D,Ke),c(E,dt),c(E,Se),c(Se,j),e[42](j),c(Se,Tt),c(Se,F),e[52](F),c(t,Dt),c(t,Z),c(Z,ae),c(ae,Ve),c(ae,Ut),c(ae,g),c(ae,v),c(ae,R),c(ae,L),c(ae,K),c(Z,Qt),c(Z,de),c(de,gt),c(de,xt),c(de,Qe),c(de,$t),c(de,xe),c(de,el),c(de,Ee),U(Ee,e[9].name),c(Z,tl),c(Z,O),c(O,Ft),c(O,ll),c(O,$),c(O,nl),c(O,Xt),c(O,rl),c(O,Yt),c(O,ol),c(O,ee),c(O,sl),c(O,te),c(O,il),c(O,le),c(O,al),c(O,ne),c(O,cl),c(O,Gt),c(O,fl),c(O,re),c(Z,ul),c(Z,ge),Gl(Ae,ge,null),c(Z,hl),Me.m(Z,null),A=!0,Wt||(gl=[y(o,"input",e[24]),y(o,"change",e[25]),y(P,"click",e[30]),y(M,"click",e[31]),y(Re,"click",e[32]),y(se,"click",e[33]),y(pe,"click",e[34]),y(ve,"click",e[35]),y(x,"input",e[36]),y(ie,"input",e[38]),y(H,"change",e[39]),y(H,"change",e[40]),y(Q,"change",e[41]),y(Q,"input",e[41]),y(j,"touchmove",_l(e[43])),y(j,"mousemove",e[44]),y(j,"touchstart",xl(_l(e[45]))),y(j,"mousedown",e[46]),y(j,"touchend",e[47]),y(j,"mouseup",e[48]),y(j,"touchcancel",e[49]),y(j,"mouseleave",e[50]),y(j,"click",e[51]),y(F,"load",e[53]),y(g,"click",e[19]),y(R,"click",e[20]),y(K,"click",e[54]),y(Qe,"click",e[55]),y(xe,"click",e[56]),y(Ee,"input",e[57]),y($,"click",e[58]),y(ee,"click",e[59]),y(te,"click",e[60]),y(le,"click",e[61]),y(ne,"click",e[62]),y(re,"click",e[63])],Wt=!0)},p(u,k){if(k[0]&128&&o.value!==u[7]&&U(o,u[7]),k[0]&256){Ue=V(u[8]);let b;for(b=0;b<Ue.length;b+=1){const ce=Ol(u,Ue,b);X[b]?X[b].p(ce,k):(X[b]=zl(ce),X[b].c(),X[b].m(f,null))}for(;b<X.length;b+=1)X[b].d(1);X.length=Ue.length}if(k[0]&2130496){Fe=V(u[6]);let b;for(b=0;b<Fe.length;b+=1){const ce=Al(u,Fe,b);Y[b]?Y[b].p(ce,k):(Y[b]=jl(ce),Y[b].c(),Y[b].m(l,S))}for(;b<Y.length;b+=1)Y[b].d(1);Y.length=Fe.length}if(k[0]&2130448){Xe=V(u[4]);let b;for(b=0;b<Xe.length;b+=1){const ce=Rl(u,Xe,b);G[b]?G[b].p(ce,k):(G[b]=Il(ce),G[b].c(),G[b].m(l,null))}for(;b<G.length;b+=1)G[b].d(1);G.length=Xe.length}if(k[0]&16384&&U(x,u[14]),k[0]&147456){Ye=V(u[17]);let b;for(b=0;b<Ye.length;b+=1){const ce=Nl(u,Ye,b);W[b]?W[b].p(ce,k):(W[b]=Pl(ce),W[b].c(),W[b].m(_e,null))}for(;b<W.length;b+=1)W[b].d(1);W.length=Ye.length}k[0]&32768&&ie.value!==u[15]&&U(ie,u[15]),k[0]&2&&pl(H,u[1]),k[0]&8&&U(Q,u[3]),(!A||k[0]&8)&&Ul(Ke,u[3]),(!A||k[0]&6&&Te!==(Te=u[1]*u[2]))&&i(j,"width",Te),(!A||k[0]&6&&De!==(De=u[1]*u[2]))&&i(j,"height",De),(!A||k[0]&8)&&p(j,"width",u[3]+"px"),(!A||k[0]&8)&&i(F,"width",u[3]),(!A||k[0]&8)&&i(F,"height",u[3]),(!A||k[0]&8)&&p(F,"width",u[3]+"px"),(!A||k[0]&8)&&p(F,"height",u[3]+"px"),k[0]&512&&Ee.value!==u[9].name&&U(Ee,u[9].name),(!A||k[0]&512&&!T($.src,mt=u[9].faces[4].url))&&i($,"src",mt),(!A||k[0]&512&&_t!==(_t=u[9].faces[4].name))&&i($,"alt",_t),(!A||k[0]&512&&pt!==(pt=u[9].targetface===4?"border:red 1px solid;":"border:gray 1px dotted;"))&&i($,"style",pt),(!A||k[0]&512&&!T(ee.src,vt=u[9].faces[3].url))&&i(ee,"src",vt),(!A||k[0]&512&&bt!==(bt=u[9].faces[3].name))&&i(ee,"alt",bt),(!A||k[0]&512&&kt!==(kt=u[9].targetface===3?"border:red 1px solid;":"border:gray 1px dotted;"))&&i(ee,"style",kt),(!A||k[0]&512&&!T(te.src,wt=u[9].faces[0].url))&&i(te,"src",wt),(!A||k[0]&512&&yt!==(yt=u[9].faces[0].name))&&i(te,"alt",yt),(!A||k[0]&512&&Ct!==(Ct=u[9].targetface===0?"border:red 1px solid;":"border:gray 1px dotted;"))&&i(te,"style",Ct),(!A||k[0]&512&&!T(le.src,St=u[9].faces[1].url))&&i(le,"src",St),(!A||k[0]&512&&Et!==(Et=u[9].faces[1].name))&&i(le,"alt",Et),(!A||k[0]&512&&Mt!==(Mt=u[9].targetface===1?"border:red 1px solid;":"border:gray 1px dotted;"))&&i(le,"style",Mt),(!A||k[0]&512&&!T(ne.src,Nt=u[9].faces[2].url))&&i(ne,"src",Nt),(!A||k[0]&512&&Rt!==(Rt=u[9].faces[2].name))&&i(ne,"alt",Rt),(!A||k[0]&512&&At!==(At=u[9].targetface===2?"border:red 1px solid;":"border:gray 1px dotted;"))&&i(ne,"style",At),(!A||k[0]&512&&!T(re.src,Ot=u[9].faces[5].url))&&i(re,"src",Ot),(!A||k[0]&512&&zt!==(zt=u[9].faces[5].name))&&i(re,"alt",zt),(!A||k[0]&512&&jt!==(jt=u[9].targetface===5?"border:red 1px solid;":"border:gray 1px dotted;"))&&i(re,"style",jt);const I={};k[0]&512&&(I.bk=u[9]),Ae.$set(I),(!A||k[0]&262144)&&p(ge,"--ry",u[18]+"deg"),k[0]&512&&Vt(dl,dl=u[9])?(Me.d(1),Me=Jl(u),Me.c(),Me.m(Z,null)):Me.p(u,k)},i(u){A||(Yl(Ae.$$.fragment,u),A=!0)},o(u){un(Ae.$$.fragment,u),A=!1},d(u){u&&fe(t),Oe(X,u),Oe(Y,u),Oe(G,u),Oe(W,u),e[42](null),e[52](null),Wl(Ae),Me.d(u),Wt=!1,ze(gl)}}}let Ne="./brick_faces";function En(e,t,l){let n,r=32,s=512/r,o=256,d=[],f=[],a=[],S="",_=[],C={},h={name:"001",targetface:0,faces:[{name:"diamond_block",url:`${Ne}/diamond_block.png`},{name:"diamond_block",url:`${Ne}/diamond_block.png`},{name:"diamond_block",url:`${Ne}/diamond_block.png`},{name:"diamond_block",url:`${Ne}/diamond_block.png`},{name:"diamond_block",url:`${Ne}/diamond_block.png`},{name:"diamond_block",url:`${Ne}/diamond_block.png`}]},E=[],N,B,J=!1,P="#ff0000",z="",M=new kn({w:r,h:r},s),je=[];Re(),a=Pt();function ue(g){E.sort((L,K)=>L.name>K.name?1:-1);var v=new Blob([JSON.stringify(E)],{type:"txt"}),R=document.createElement("a");R.download="brickfaces.json",R.href=window.URL.createObjectURL(v),R.style.display="none",document.body.appendChild(R),R.click(),document.body.removeChild(R)}function Ie(g){bl("json").then(v=>{let R=JSON.parse(v);l(10,E=R.map(L=>typeof L.faces[0]=="string"?{name:L.name,faces:L.faces.map(K=>({name:K,url:`${Ne}/${K}.png`}))}:L)),console.log(E)})}function Pe(g,v=""){if(!B)return;let R=g.target;l(0,n.src=R.src,n),l(15,z=v)}function Re(){fetch("./faces.json").then(g=>g.json()).then(g=>{l(5,f=g.map(v=>({name:v,url:`${Ne}/${v}.png`}))),f.forEach(v=>{v.name.split("_").forEach(L=>{L.length<2||(C[L]?C[L].count++:(C[L]={kw:L,count:1},_.push(L)))})}),_.sort((v,R)=>C[R].count-C[v].count),l(8,_=_.map(v=>({kw:v,count:C[v].count})).filter(v=>v.count>2).map(v=>v.kw))})}let He=20;setInterval(()=>{l(18,He+=45)},2e3),E=Zt();let se=vn((g,v)=>{B&&(M.drawCanvas(N),l(12,B.strokeStyle="red",B),B.strokeRect(g,v,s,s))},10);nn(()=>{l(12,B=N.getContext("2d"))});function he(g){l(9,h.targetface=g,h);let v=Ht(N,z);z?l(6,a=Pt()):l(6,a=[...a,v]),l(15,z=v.name),l(9,h.faces[g]=v,h)}function q(){S=this.value,l(7,S)}const Le=g=>{l(4,d=f.filter(v=>v.name.includes(S)))},nt=(g,v)=>{l(15,z=g.name),Pe(v,z)},pe=(g,v)=>{l(9,h.targetface=h.targetface||0,h),l(9,h.faces[h.targetface]=g,h),l(9,h.targetface=l(9,++h.targetface,h)%6,h)},rt=(g,v)=>{l(15,z=g.name),Pe(v,z)},ve=(g,v)=>{l(9,h.targetface=h.targetface||0,h),l(9,h.faces[h.targetface]=g,h),l(9,h.targetface=l(9,++h.targetface,h)%6,h)},ot=g=>{wl(N.toDataURL("image/png"),z||"test.png","dataurl")},x=g=>{B&&bl("png").then(v=>{l(0,n.src=v,n),l(15,z="")})},st=g=>{z?(Ht(N,z),l(6,a=Pt())):l(6,a=[...a,Ht(N)]),l(15,z="")},_e=g=>{kl(z),l(6,a=Pt()),l(15,z="")},it=g=>{M.clear().drawCanvas(N)},D=g=>{M.undo(N)};function Be(){P=this.value,l(14,P)}const at=(g,v)=>{l(14,P=g[0])};function ie(){z=this.value,l(15,z)}function ct(){r=tn(this),l(1,r)}const Ze=g=>{l(2,s=128/r),l(16,M.dim={w:r,h:r},M),l(16,M.zoom=s,M),l(16,M.colorAgg=M.colorMedian,M),M.setimg(n),M.drawCanvas(N),l(17,je=M.majorColor(6))};function ft(){o=$l(this.value),l(3,o)}function H(g){Bt[g?"unshift":"push"](()=>{N=g,l(11,N)})}const be=g=>{var v;if(B)if(J){let R=g.target.getBoundingClientRect(),L=Math.floor((g.targetTouches[0].clientX-R.x)/o*r),K=Math.floor((g.targetTouches[0].clientY-R.y)/o*r);M.drawPoint(L,K,P,N)}else{let R=((v=g.target)==null?void 0:v.getBoundingClientRect())||{x:0,y:0},L=Math.floor((g.targetTouches[0].clientX-R.x)/o*r)*s,K=Math.floor((g.targetTouches[0].clientY-R.y)/o*r)*s;se(L,K)}},ke=g=>{if(B)if(J){let v=Math.floor(g.offsetX/o*r),R=Math.floor(g.offsetY/o*r);M.drawPoint(v,R,P,N)}else{let v=Math.floor(g.offsetX/o*r)*s,R=Math.floor(g.offsetY/o*r)*s;se(v,R)}},we=g=>l(13,J=!0),ye=g=>l(13,J=!0),Ce=g=>l(13,J=!1),ut=g=>l(13,J=!1),Je=g=>{l(13,J=!1),se(1e3,1e3),M.drawCanvas(N)},ht=g=>{l(13,J=!1),se(1e3,1e3),M.drawCanvas(N)},Q=g=>{if(!B)return;let v=Math.floor(g.offsetX/o*r),R=Math.floor(g.offsetY/o*r);M.drawPoint(v,R,P,N)};function Ke(g){Bt[g?"unshift":"push"](()=>{n=g,l(0,n)})}const dt=g=>{l(16,M.colorAgg=M.colorMedian,M),M.setimg(n).drawCanvas(N),l(17,je=M.majorColor())},Se=g=>{let v=prompt("file name:",h.name)||"test";h.faces.forEach(R=>{wl(R.url,v,"dataurl")})},j=g=>{_n(h),l(10,E=Zt()),l(9,h.name="",h)},Te=g=>{kl(h.name,"__brickCache","__bc_"),l(10,E=Zt())};function De(){h.name=this.value,l(9,h)}return[n,r,s,o,d,f,a,S,_,h,E,N,B,J,P,z,M,je,He,ue,Ie,Pe,se,he,q,Le,nt,pe,rt,ve,ot,x,st,_e,it,D,Be,at,ie,ct,Ze,ft,H,be,ke,we,ye,Ce,ut,Je,ht,Q,Ke,dt,Se,j,Te,De,g=>{he(4)},g=>{he(3)},g=>{he(0)},g=>{he(1)},g=>{he(2)},g=>{he(5)},(g,v)=>{l(9,h={...g,targetface:h.targetface}),console.log(h.faces)}]}class Mn extends Hl{constructor(t){super(),ql(this,t,En,Sn,Vt,{},null,[-1,-1,-1])}}new Mn({target:document.getElementById("app")});
